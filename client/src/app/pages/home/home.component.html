<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <!-- <ion-title>{{ folder }}</ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Ask me</ion-title>
    </ion-toolbar>
  </ion-header> -->

  <div class="content">

    <div style="height: 100%; display: flex; align-items: center; justify-content: center; flex-direction: column;">
      <div *ngIf="(speechService.listening$ | async) === true" class="spinner-mic">
        <mat-spinner></mat-spinner>
        <mat-icon>mic</mat-icon>
      </div>

      <button mat-button mat-raised-button color="primary" (click)="start()"
        *ngIf="(speechService.listening$ | async) === false && (speechService.speaking$ | async) === false">
        <mat-icon>mic</mat-icon>
      </button>

      <button mat-button mat-raised-button color="primary" (click)="shutup()"
        *ngIf="(speechService.speaking$ | async) === true">
        shutup
      </button>

      <div id="prompt">{{speechService.content$ | async}}</div>

      <ion-progress-bar type="indeterminate" *ngIf="gptService.busy$ | async"></ion-progress-bar>
    </div>

    <div id="result" *ngIf="(gptService.content$ | async) as response">{{response}}</div>
  </div>

</ion-content>
